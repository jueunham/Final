<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper  namespace="web.dao.recruitment.face.RecruitmentDao" >
	<select id="selectAll" parameterType="web.util.Paging" resultType="web.dto.Recruit">
		SELECT * FROM ( SELECT rownum rnum, B.* FROM (
			SELECT recruit_no, recruit_name,recruit_title,recruit_career,recruit_educareer, recruit_certificate,
			recruit_major, recruit_type, recruit_sal, recruit_time, recruit_position, member_no 
	 		FROM Recruit	
	 		ORDER BY recruit_no DESC ) B
			ORDER BY rnum ) WHERE rnum BETWEEN #{startNo} and #{endNo}
	</select>
	
	<select id="selectCntAll" resultType="int">
		SELECT count(*) FROM recruit
	</select>
	
	<select id="select" parameterType="int" resultType="web.dto.Recruit">
		SELECT * FROM recruit
		WHERE recruit_no = #{recruit_no}
	</select>
	
	<insert id="write" parameterType="web.dto.Recruit">
		INSERT INTO recruit( recruit_no, recruit_name,recruit_title,recruit_career,recruit_educareer, recruit_certificate,
			recruit_major, recruit_type, recruit_sal, recruit_time, recruit_position, member_no )
		VALUES(recruit_seq.nextval, #{recruit_no}, #{recruit_name},#{recruit_title},#{recruit_career},#{recruit_educareer}, #{recruit_certificate},
			#{recruit_major}, #{recruit_type}, #{recruit_sal}, #{recruit_time}, #{recruit_position}, #{member_no} )
	</insert>
	
	<insert id="insertFile" parameterType="web.dto.Recruit_file">
		INSERT INTO recruit_file( recruit_file_no, recruit_file_storedname, recruit_file_originname, recruit_file_upload_date, recruit_no)
		VALUES(recruit_file_seq.nextval, #{recruit_file_storedname},#{recruit_file_originname},#{recruit_file_upload_date},#{recruit_no}) 
	</insert>
</mapper>